From e89658f93ada52485c7a4f2743875da295ab27c1 Mon Sep 17 00:00:00 2001
From: Charles Stevens <charles.stevens@logicpd.com>
Date: Thu, 14 May 2020 12:09:26 -0500
Subject: [PATCH 26/26] dts: Add spidev node and SPI (msiof) pin mux

---
 .../dts/renesas/beacon-renesom-baseboard.dtsi  | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

diff --git a/arch/arm64/boot/dts/renesas/beacon-renesom-baseboard.dtsi b/arch/arm64/boot/dts/renesas/beacon-renesom-baseboard.dtsi
index 08f02ee4831d..e5e20d69f635 100644
--- a/arch/arm64/boot/dts/renesas/beacon-renesom-baseboard.dtsi
+++ b/arch/arm64/boot/dts/renesas/beacon-renesom-baseboard.dtsi
@@ -609,6 +609,11 @@
 		bias-pull-down;
 	};
 
+	msiof1_pins: msiof1 {
+		groups = "msiof1_clk_e", "msiof1_rxd_e", "msiof_txd_e";
+		function = "msiof1";
+	};
+
 	pwm0_pins: pwm0 {
 		groups = "pwm0";
 		function = "pwm0";
@@ -725,6 +730,19 @@
 	};
 };
 
+&msiof1 {
+	pinctrl-0 = <&msiof1_pins>;
+	pinctrl-names = "default";
+	status = "okay";
+	cs-gpios = <&gpio3 4 GPIO_ACTIVE_LOW>;
+
+	spidev1@0x00 {
+	       compatible = "spidev";
+	       spi-max-frequency = <5000000>;
+	       reg = <0>;
+	};
+};
+
 &rwdt {
 	status = "okay";
 	timeout-sec = <60>;
-- 
2.17.1

